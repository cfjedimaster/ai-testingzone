{% extends 'layout.html' %}

{% block content %}

<section>
    <h2>Existing Stores</h2>
    <table-sort numeric="2,4">
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th># Docs</th>
                <th>Last Updated</th>
                <th>Size</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for store in stores %}
            <tr>
                <td>{{ store.display_name }}</td>
                <td>{{ store.document_count }}</td>
                <td>{{ store.last_updated }}</td>
                <td data-sortval="{{store.size}}">{{ store.size | convert_size }}</td>
                <td>
                    <a href="{{ url_for('store', id=store.id) }}">View</a> |
                    <a href="{{ url_for('delete_store', store_id=store.id) }}">Delete</a>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="5">No stores found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    </table-sort>

    <form method="post" action="/addstore">
        <input type="text" id="store_name" name="store_name" required placeholder="Store Name">
        <button type="submit">Add New Store</button>
    </form>

</section>

{% endblock %}
